webpackJsonp([167],{ItYl:function(e,r){},ZVsF:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={data:function(){return{loading:!1,breadcrumb:[{name:"设置"},{name:"成员管理",url:"/set/member"},{name:"添加成员"}],roleList:[],ruleForm:{role_id:"",user_division:"",user_realname:"",user_phone:"",user_pwd:""},rules:{role_id:[{required:!0,message:"请选择角色名称",trigger:"change"}],user_division:[{required:!0,message:"请输入所在部门",trigger:"blur"}],user_realname:[{required:!0,message:"请输入成员名称",trigger:"blur"}],user_phone:[{required:!0,message:"请输入手机号码",trigger:"blur"},{validator:function(e,r,t){/^1\d{10}$/.test(r)?t():t(new Error("请输入正确的手机号"))},trigger:"blur"}],user_pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},components:{BreadCrumb:t("tVcc").a},created:function(){this.getRoleList()},computed:{},methods:{getRoleList:function(){var e=this;this.loading=!0,this.$axios.get("/api/admin/role/list?page_size=100000000").then(function(r){e.loading=!1,0==(r=r.data).code?r.data.map(function(r){e.roleList.push({label:r.role_name,value:r.role_id})}):e.$alert(r.msg,"温馨提示")})},submitForm:function(e){var r=this,t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.loading=!0,r.ruleForm.user_name=r.ruleForm.user_phone,r.$axios.post("/api/admin/adminuser/add",r.ruleForm).then(function(e){t.loading=!1,0==(e=e.data).code?(t.$message({type:"success",message:"添加成功！"}),console.log(e.data)):t.$alert(e.msg,"温馨提示")})})},checkList:function(){this.breadcrumb[1]&&this.breadcrumb[1].url?this.$router.push({path:this.breadcrumb[1].url}):this.$router.go(-1)}}},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page add-member"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"crumbs"},[t("bread-crumb",{attrs:{"bread-crumb":e.breadcrumb}})],1)]),e._v(" "),t("div",{staticClass:"page-content"},[t("div",{staticClass:"panel"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"form-panel"},[t("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"角色名称",prop:"role_id"}},[t("el-select",{staticClass:"w-full",attrs:{placeholder:"角色名称"},model:{value:e.ruleForm.role_id,callback:function(r){e.$set(e.ruleForm,"role_id",r)},expression:"ruleForm.role_id"}},e._l(e.roleList,function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),t("el-form-item",{attrs:{label:"所在部门",prop:"user_division"}},[t("el-input",{attrs:{type:"text",placeholder:"所在部门"},model:{value:e.ruleForm.user_division,callback:function(r){e.$set(e.ruleForm,"user_division","string"==typeof r?r.trim():r)},expression:"ruleForm.user_division"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"成员姓名",prop:"user_realname"}},[t("el-input",{attrs:{type:"text",placeholder:"请输入姓名"},model:{value:e.ruleForm.user_realname,callback:function(r){e.$set(e.ruleForm,"user_realname","string"==typeof r?r.trim():r)},expression:"ruleForm.user_realname"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"手机号码",prop:"user_phone"}},[t("el-input",{attrs:{type:"tel",placeholder:"请输入手机号"},model:{value:e.ruleForm.user_phone,callback:function(r){e.$set(e.ruleForm,"user_phone","string"==typeof r?r.trim():r)},expression:"ruleForm.user_phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"user_pwd"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.ruleForm.user_pwd,callback:function(r){e.$set(e.ruleForm,"user_pwd","string"==typeof r?r.trim():r)},expression:"ruleForm.user_pwd"}})],1),e._v(" "),t("el-form-item",{staticClass:"submit"},[t("el-button",{staticClass:"w-80",attrs:{type:"primary"},on:{click:function(r){e.submitForm("ruleForm")}}},[e._v("提交")])],1)],1)],1)])])])])},staticRenderFns:[]};var a=t("VU/8")(s,l,!1,function(e){t("ItYl")},"data-v-04a5d0e2",null);r.default=a.exports}});