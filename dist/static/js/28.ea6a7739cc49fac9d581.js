webpackJsonp([28],{GF4k:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("gyMJ"),n={data:function(){return{flag:!0,ruleForm:{user_name:"",user_pwd:""},rules:{user_name:[{required:!0,message:"请输入用户名",trigger:"blur"}],user_pwd:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(r){if(!r)return console.log("error submit!!"),!1;s.a.login.call(t,{url:"/api/admin/login/index",method:"post",data:t[e]}).then(function(e){console.log(e,"0000"),localStorage.setItem("ms_username",t.ruleForm.username)})})}},mounted:function(){"-1"!=window.location.href.indexOf("leilei")&&(this.flag=!1)}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-wrap"},[r("div",{staticClass:"ms-login"},[r("div",{staticClass:"ms-title"},[e.flag?r("p",{staticClass:"ms-login-title"},[e._v("偷偷美 管理平台登陆")]):r("p",{staticClass:"ms-login-title"},[e._v("蕾蕾美颜 管理平台登陆")]),e._v(" "),r("img",{staticClass:"ms-title-icon",attrs:{src:"/static/img/ms-title-icon.png",width:"10"}})]),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login-input-custom",attrs:{model:e.ruleForm,size:"medium",rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"user_name"}},[r("el-input",{attrs:{placeholder:"username"},model:{value:e.ruleForm.user_name,callback:function(t){e.$set(e.ruleForm,"user_name",t)},expression:"ruleForm.user_name"}},[r("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),r("el-form-item",{attrs:{prop:"user_pwd"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("ruleForm")}},model:{value:e.ruleForm.user_pwd,callback:function(t){e.$set(e.ruleForm,"user_pwd",t)},expression:"ruleForm.user_pwd"}},[r("i",{staticClass:"el-input__icon el-icon-pass",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),r("div",{staticClass:"login-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(n,o,!1,function(e){r("bx9J"),r("YpfH")},"data-v-6a0ae438",null);t.default=i.exports},YpfH:function(e,t){},bx9J:function(e,t){},gyMJ:function(e,t,r){"use strict";var s={};r.d(s,"login",function(){return a}),r.d(s,"logout",function(){return u});var n={};r.d(n,"add",function(){return l});var o=r("7+uW"),i=function(e){return console.log(o.default.prototype),o.default.prototype.$axios[e.method](e.url,e.data)},a=function(e){var t=this;return i(e).then(function(e){if(0===e.data.code)return t.$store.dispatch("USER_SIGNIN",{sid:e.headers.sid,data:e.data.data}),console.log("USER_SIGNIN",e.headers.sid),t.$router.push("/"),e.data;t.$message.error(e.data.msg)})},u=function(e){var t=this;return i(e).then(function(e){0===e.data.code?(t.$store.dispatch("USER_SIGNOUT"),window.location.reload()):t.$message.error(e.data.msg)})},l=function(e){var t=this;return i(e).then(function(e){0===e.data.code?(t.$store.dispatch("USER_SIGNIN",{sid:e.headers.sid}),t.$router.push("/")):t.$message.error(e.data.msg)})};r.d(t,"a",function(){return s}),r.d(t,!1,function(){return n})}});