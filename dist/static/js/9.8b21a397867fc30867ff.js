webpackJsonp([9],{pTr4:function(r,e){},ug2H:function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("fZjL"),i=t.n(a),l={name:"training",data:function(){return{breadcrumb:[{name:"加盟商管理"},{name:"培训列表",url:"/training/list"},{name:"添加培训",url:"/training/add"}],ruleForm:{id:"",train_title:"",train_type:1,train_content:"",train_url:"",train_business_on:1,train_shop_on:0,train_pic:"",train_address:"",train_price:""},rules:{train_title:[{required:!0,message:"请输入培训标题",trigger:"blur"}],train_type:[{required:!0,message:"请选择培训类型",trigger:"change"}],train_content:[{required:!0,message:"请填写培训内容",trigger:"blur"}],train_url:[{required:!0,message:"请填写培训链接",trigger:"blur"}],train_business_on:[{required:!0,message:"请至少选择一个标签",trigger:"change"}],train_shop_on:[{required:!0,message:"请至少选择一个标签",trigger:"change"}],train_address:[{required:!0,message:"请输入培训地址",trigger:"blur"}],train_price:[{required:!0,message:"请填写培训价格",trigger:"blur"}]}}},methods:{handleAvatarSuccess:function(r,e){this.ruleForm.train_pic=r.data.url},beforeAvatarUpload:function(r){var e="image/jpeg"===r.type,t=r.size/1024/1024<2;return e||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),e&&t},submit:function(){var r=this,e=this.$route.params;this.ruleForm.id=e.id,i()(e).length?this.$axios.post("/api/admin/train/modify",this.ruleForm).then(function(e){0==e.data.code?(r.$alert("编辑成功！"),r.$router.push("/training/list")):r.$alert(e.data.msg)}).catch(function(e){r.$alert("操作失败"+e)}):this.$axios.post("/api/admin/train/create",this.ruleForm).then(function(e){0==e.data.code?(r.$alert("添加成功！"),r.$router.push("/training/list")):r.$alert(e.data.msg)}).catch(function(e){r.$alert("操作失败"+e)})}},mounted:function(){},components:{BreadCrumb:t("tVcc").a},created:function(){var r=this,e=this.$route.params;i()(e).length&&this.$axios.get("/api/admin/train/detail",{params:e}).then(function(e){r.ruleForm=e.data.data})},computed:{}},n={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",{staticClass:"page"},[t("div",{staticClass:"page-header"},[t("div",{staticClass:"crumbs"},[t("bread-crumb",{attrs:{"bread-crumb":r.breadcrumb}})],1)]),r._v(" "),t("div",{staticClass:"page-content"},[t("div",{staticClass:"panel"},[t("el-form",{ref:"ruleForm1",staticClass:"demo-ruleForm",attrs:{model:r.ruleForm,rules:r.rules,"label-width":"140px"}},[t("el-form-item",{attrs:{label:"培训标题:",prop:"train_title"}},[t("el-input",{model:{value:r.ruleForm.train_title,callback:function(e){r.$set(r.ruleForm,"train_title",e)},expression:"ruleForm.train_title"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"培训类型:",prop:"train_type"}},[t("el-radio-group",{model:{value:r.ruleForm.train_type,callback:function(e){r.$set(r.ruleForm,"train_type",e)},expression:"ruleForm.train_type"}},[t("el-radio",{attrs:{label:1}},[r._v("门店5S管理培训")]),r._v(" "),t("el-radio",{attrs:{label:2}},[r._v("店务培训")]),r._v(" "),t("el-radio",{attrs:{label:3}},[r._v("美容服务技巧")]),r._v(" "),t("el-radio",{attrs:{label:4}},[r._v("店长班")]),r._v(" "),t("el-radio",{attrs:{label:5}},[r._v("服务话术培训")]),r._v(" "),t("el-radio",{attrs:{label:6}},[r._v("偷偷美微掌柜")])],1)],1),r._v(" "),t("el-form-item",{attrs:{label:"培训地址:",prop:"train_address"}},[t("el-input",{model:{value:r.ruleForm.train_address,callback:function(e){r.$set(r.ruleForm,"train_address",e)},expression:"ruleForm.train_address"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"培训价格:",prop:"train_price"}},[t("el-input",{model:{value:r.ruleForm.train_price,callback:function(e){r.$set(r.ruleForm,"train_price",e)},expression:"ruleForm.train_price"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"培训内容:",prop:"train_content"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:r.ruleForm.train_content,callback:function(e){r.$set(r.ruleForm,"train_content",e)},expression:"ruleForm.train_content"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"培训链接:",prop:"train_url"}},[t("el-input",{attrs:{type:"textarea",rows:3},model:{value:r.ruleForm.train_url,callback:function(e){r.$set(r.ruleForm,"train_url",e)},expression:"ruleForm.train_url"}})],1),r._v(" "),t("el-form-item",{attrs:{label:"培训展示图:"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/fileupload/image","show-file-list":!1,"on-success":r.handleAvatarSuccess}},[r.ruleForm.train_pic?t("img",{attrs:{width:"100%",src:r.ruleForm.train_pic}}):t("div",{staticStyle:{"padding-top":"10%"}},[t("i",{staticClass:"el-icon-plus",staticStyle:{"font-size":"48px"}})])])],1),r._v(" "),t("el-form-item",{attrs:{label:"加盟商是否接收:",prop:"train_business_on"}},[t("el-radio-group",{model:{value:r.ruleForm.train_business_on,callback:function(e){r.$set(r.ruleForm,"train_business_on",e)},expression:"ruleForm.train_business_on"}},[t("el-radio",{attrs:{label:0}},[r._v("不接收")]),r._v(" "),t("el-radio",{attrs:{label:1}},[r._v("接收")])],1)],1),r._v(" "),t("el-form-item",{attrs:{label:"门店是否接收:",prop:"train_shop_on"}},[t("el-radio-group",{model:{value:r.ruleForm.train_shop_on,callback:function(e){r.$set(r.ruleForm,"train_shop_on",e)},expression:"ruleForm.train_shop_on"}},[t("el-radio",{attrs:{label:0}},[r._v("不接收")]),r._v(" "),t("el-radio",{attrs:{label:1}},[r._v("接收")])],1)],1),r._v(" "),t("el-form-item",{staticClass:"margin-auto"},[t("el-button",{attrs:{size:"large",type:"primary"},on:{click:function(e){r.submit()}}},[r._v("提交")])],1)],1)],1)])])},staticRenderFns:[]};var s=t("VU/8")(l,n,!1,function(r){t("pTr4")},"data-v-5eef9fda",null);e.default=s.exports}});