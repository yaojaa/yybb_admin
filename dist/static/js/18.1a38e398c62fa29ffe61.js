webpackJsonp([18],{"2Pjj":function(e,t){},"3dMB":function(e,t){},"4WTo":function(e,t,o){var i=o("NWt+");e.exports=function(e,t){var o=[];return i(e,!1,o.push,o,t),o}},"7Doy":function(e,t,o){var i=o("EqjI"),r=o("7UMu"),a=o("dSzd")("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},"95gL":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("Dd8w"),r=o.n(i),a=o("NYxO"),s=o("UyYF"),n=o("tVcc"),l=o("Xxa5"),c=o.n(l),d=o("lHA8"),u=o.n(d),_=o("c/Tr"),p=o.n(_),g=o("exGp"),f=o.n(g),m=o("M4fF"),v=o.n(m),h=o("zP3f"),k=o("qqwB"),b=o("f3/d"),y={name:"createGood-formlist",components:{"dialog-formate":h.a,"dialog-goodFriend":k.a,"product-card":b.a},props:{goodType:{type:Number,default:1},goodId:{type:Number,default:0},active:{type:Number,default:0}},data:function(){return{renderList:[],industryForm:{},quickBuyColumnList:[],quickList:[],quickBuysortList:[],sortList:[],quickSelectedList:[],sortSelectedList:[],detailList:[],detailSelectedList:[],detailInfoList:[],listInfoList:[],listList:[],listSelectedList:[],wishList:[],wishSelectedList:[],wishInfoList:[],GOODTYPE:s.c,COUNTRY:s.b,UNIT:s.d,currentActive:0,imgVisible:!1,imgUrl:"",img_url__key:new Date,createdData:{good_type:1,good_name:"",good_explain:"",category_id:"",tag_id_arr:[],unit:"",country:"",sku_type_arr:[],good_sku:[{}],good_video:"",good_video_pic:"",good_ico:"",poster_img:"",good_img_arr:[],explain_img_arr:[],show_img_arr:[],good_notes:"",good_friends:[]},goodSkuInfo:[],good_img_arr:{canAdd:!1,limit:6,url:[],over:6},explain_img_arr:{limit:4,url:[],over:4},show_img_arr:{limit:6,url:[],over:6},poster_img:{limit:1,url:[],over:1},good_video:"",good_video_pic:{limit:1,url:[],over:1},good_ico:{limit:1,url:[],over:1},singleButton:"无规格",type:"",rules:{}}},created:function(){var e=this;return f()(c.a.mark(function t(){var o,i,a,n,l,d,_;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.createdData.good_type=e.goodType,!e.goodId){t.next=23;break}return t.next=4,e.$store.dispatch("createdGoode/fetchFormInfo",{id:e.goodId});case 4:if(o=t.sent,(i=v.a.cloneDeep(o)).sku_list){t.next=9;break}return alert("数据接口缺少 sku_list字段"),t.abrupt("return");case 9:if((a=r()({},e.createdData,i)).id=a.good_id,a.good_sku=a.sku_list.map(function(e){return e.ico_small__url=e.ico_small,e.price_cost=+e.price_cost/100,e.price=+e.price/100,e.price_sale=+e.price_sale/100,e.price_total=+e.price_total/100,e}),a.good_video_pic,a.good_ico,n=a.good_video,a.poster_img,e.$_transformImgAry("good_img_arr"),e.$_transformImgAry("show_img_arr"),e.$_transformImgAry("explain_img_arr"),e.$_transformImgAry("good_video_pic",1),e.$_transformImgAry("good_ico",1),e.$_transformImgAry("poster_img",1),e.good_video=n,a.sku_type_arr&&a.sku_type_arr.length)for(e.singleButton="添加规格",e.goodSkuInfo=[],(l=[])[0]=p()(new u.a(a.sku_list.map(function(e){return e.sku_type_arr[0]}))),l[1]=p()(new u.a(a.sku_list.map(function(e){return e.sku_type_arr[1]}))),l[2]=p()(new u.a(a.sku_list.map(function(e){return e.sku_type_arr[2]}))),d=0;d<a.sku_type_arr.length;d++)_={inputValue:"",list:l[d],name:a.sku_type_arr[d]},e.goodSkuInfo.push(_);else e.singleButton="无规格";a.good_friends.forEach(function(e){e.sku_id=e.group_sku_id||e.sku_id,e.sku_list_modify=e.group_sku_list||e.sku_list_modify}),e.createdData=a;case 23:e.currentActive=e.active,e.type=s.g[e.goodType],e.rules={good_name:[{required:!0,min:2,max:30,message:"请输入活动名称,长度在2-30个字符",trigger:"blur"}],good_explain:[{required:!0,min:2,max:50,message:"在"+e.type+"详情页标题下面展示卖点信息，建议50字以内",trigger:"blur"}],category_id:[{required:!0,message:"请选择所属行业分类",trigger:"change"}],unit:[{required:!0,message:"请选择单位",trigger:"change"}],country:[{required:!0,message:"请选择产地",trigger:"change"}],format:[{required:!0,message:"请选择规格",trigger:"change"}],sku_code:[{required:!0,message:"请填写"+e.type+"编码",trigger:"blur"}],price_sale:[{required:!0,message:"请填写售价",trigger:"blur"}],price:[{required:!0,message:"请填写原价",trigger:"blur"}],price_cost:[{required:!0,message:"请填写成本",trigger:"blur"}],price_total:[{required:!0,message:"请填写总价",trigger:"blur"}],poster_img:[{required:!0,message:"请选择"+e.type+"海报图",trigger:"blur"}],good_img_arr:[{required:!0,message:"请选择"+e.type+"图片",trigger:"change"}],show_img_arr:[{required:!0,message:"请选择"+e.type+"展示图",trigger:"change"}],good_notes:[{required:!0,message:"请填写购买须知",trigger:"blur"}]},e.getCategoryList(),e.getQuickBuyColumnList(),e.renderLabel();case 29:case"end":return t.stop()}},t,e)}))()},computed:r()({},Object(a.c)("createdGoode",["formInfo"])),methods:{renderLabel:function(){var e=this;setTimeout(function(){e.renderList=e.createdData.tag_id_arr;for(var t=0;t<e.renderList.length;t++)for(var o=0;o<e.quickBuyColumnList.length;o++)e.quickBuyColumnList[o].tag_id==e.renderList[t]&&e.quickList.push(e.quickBuyColumnList[o].tag_name);for(t=0;t<e.renderList.length;t++)for(o=0;o<e.quickBuysortList.length;o++)e.quickBuysortList[o].tag_id==e.renderList[t]&&e.sortList.push(e.quickBuysortList[o].tag_name);for(t=0;t<e.renderList.length;t++)for(o=0;o<e.detailInfoList.length;o++)e.detailInfoList[o].tag_id==e.renderList[t]&&e.detailList.push(e.detailInfoList[o].tag_name);for(t=0;t<e.renderList.length;t++)for(o=0;o<e.listInfoList.length;o++)e.listInfoList[o].tag_id==e.renderList[t]&&e.listList.push(e.listInfoList[o].tag_name);for(t=0;t<e.renderList.length;t++)for(o=0;o<e.wishInfoList.length;o++)e.wishInfoList[o].tag_id==e.renderList[t]&&e.wishList.push(e.wishInfoList[o].tag_name)},2e3)},getCategoryList:function(){var e=this;this.$axios.get("/api/admin/select/categoryList").then(function(t){0==t.data.code&&(e.industryForm=t.data.data)})},quickChange:function(e){this.quickSelectedList=e},sortChange:function(e){this.sortSelectedList=e},detailChange:function(e){this.detailSelectedList=e},listChange:function(e){console.log(e),this.listSelectedList=e,console.log(this.listSelectedList,"listSelectedList")},wishChange:function(e){this.wishSelectedList=e},$_addFriend:function(e){this.createdData.good_friends=e},$_transformImgAry:function(e,t){if(1===t){var o=this.formInfo[e]?0:1;this[e].url=[{name:e,url:this.formInfo[e]}],this[e].over=o}else this[e].url=this.formInfo[e].map(function(e,t){var o={};return o.name="name"+t,o.url=e,o}),this[e].over=this[e].limit-this.formInfo[e].length},$_onPreview:function(e){console.log(e,"111111"),this.imgUrl=e.url,this.imgVisible=!0},$_exceed:function(e,t,o){this.$message.warning("当前限制选择 "+o+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},$_closeVideo:function(e){this.createdData.good_video="",this.good_video=""},$_change:function(e,t,o,i){if("success"===e.status){if("good_video"===o)return this.createdData.good_video=e.response.data.file_name,void(this.good_video=e.url);if("string"==typeof o){var r=this[o].limit-t.length;this[o].over=r,this[o].url=t,this.createdData[o]=1===i?t[0].response.data.file_name:t.map(function(e){if("success"===e.status)return e.response?e.response.data.file_name:e.url})}else o.ico_small=e.response.data.file_name,o.ico_small__url=e.url,this.img_url__key="img_url__key"+new Date}},$_error:function(){this.$message.error("图片上传失败")},$_beforeUpload_img:function(e){var t="image/jpeg"===e.type||"image/png"===e.type,o=e.size/1024/1024<5;return t||this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),o||this.$message.error("上传头像图片大小不能超过 5MB!"),t&&o},$_beforeUpload_viedo:function(e){var t="video/mp4"===e.type,o=e.size/1024/1024<20;return t||this.$message.error("上传视频只能是 mp4 格式!"),o||this.$message.error("上传视频大小不能超过 20MB!"),t&&o},$_goOut:function(e,t){switch(t){case 1:case 2:this.$router.push("/goodPreview?good_id="+e+"&good_type="+t);break;case 3:this.$router.push("/purchaseList");break;case 4:this.$router.push("/fictitiousList")}},$_showgoodFriend:function(){this.$refs.goodFriend.computedRightData(1,"美容"),this.$refs.goodFriend.goodFriend_show=!0},$_showFormat:function(){"添加规格"===this.singleButton?this.showFormat():(this.goodSkuInfo=[],this.createdData.sku_type_arr=[],this.createdData.good_sku=[{}],this.createdData.sku_list=[])},showFormat:function(){this.$refs.formate.format_show=!0},$_changeTab:function(e){var t=this,o=this;1===e?this.$refs.createdData.validate(function(i){i&&("无规格"===t.singleButton?t.$refs.createdData_goodSku.validate(function(t){t&&(o.currentActive=o.currentActive+e,o.$emit("changeTab",o.currentActive))}):(o.currentActive=o.currentActive+e,o.$emit("changeTab",o.currentActive)))}):2===e?(o.currentActive=o.currentActive+1,o.$emit("changeTab",o.currentActive)):(o.currentActive=o.currentActive+e,o.$emit("changeTab",o.currentActive))},$_changeSingleButton:function(){this.singleButton="无规格"},getQuickBuyColumnList:function(){var e=this,t=0;t=2===this.goodType?1:1===this.goodType?2:this.goodType,this.$axios.get("/api/admin/select/groupTagList?tag_group_type="+t+"&id=part").then(function(t){0==t.data.code?e.quickBuyColumnList=t.data.data:e.$message({message:t.data.msg,type:"warning"})}),this.$axios.get("/api/admin/select/groupTagList?tag_group_type="+t+"&id=effect").then(function(t){0==t.data.code?e.quickBuysortList=t.data.data:e.$message({message:t.data.msg,type:"warning"})}),this.$axios.get("/api/admin/select/groupTagList?tag_group_type="+t+"&id=activity").then(function(t){0==t.data.code?e.detailInfoList=t.data.data:e.$message({message:t.data.msg,type:"warning"})}),this.$axios.get("/api/admin/select/groupTagList?tag_group_type="+t+"&id=ad").then(function(t){0==t.data.code?e.listInfoList=t.data.data:e.$message({message:t.data.msg,type:"warning"})}),this.$axios.get("/api/admin/select/groupTagList?tag_group_type="+t+"&id=wish").then(function(t){0==t.data.code?e.wishInfoList=t.data.data:e.$message({message:t.data.msg,type:"warning"})})},$_createProduct:function(){var e=this,t=this;t.$refs.createdData.validate(function(o){var i=v.a.cloneDeep(t.createdData);if("无规格"===e.singleButton)i.good_sku=i.good_sku.map(function(e){return e.price_cost=100*(+e.price_cost||0),e.price=100*(+e.price||0),e.price_sale=100*(+e.price_sale||0),e.price_total=100*(+e.price_total||0),e}),delete i.sku_type_arr;else{var r=void 0,a=void 0;i.good_sku=i.good_sku.map(function(e){return e.ico_small&&(r=e.ico_small),e.ico_small__url&&(a=e.ico_small__url),e.ico_small=r,e.ico_small__url=a,e.price_cost=100*(+e.price_cost||0),e.price=100*(+e.price||0),e.price_sale=100*(+e.price_sale||0),e.price_total=100*(+e.price_total||0),e})}i.good_friends=i.good_friends.map(function(e){var t={};return t.good_id=e.good_id,t.sku_id=e.sku_id,t}),i.tag_id_arr=i.tag_id_arr.concat(e.listSelectedList,e.wishSelectedList,e.detailSelectedList,e.sortSelectedList,e.quickSelectedList),console.log(i,"params");var s=0===t.goodId?"createdGoode/fetchFormInfoCreate":"createdGoode/fetchFormInfoModify";t.$store.dispatch(s,i).then(function(e){0===e.code?(t.$alert("操作成功"),t.$_goOut(e.data,t.goodType)):t.$message.error(e.msg)})})},$_SpanMethod:function(e){e.row,e.column;var t=e.rowIndex,o=e.columnIndex;this.goodType,s.c.serviceList;if(0===o||6===o){var i=0;return this.goodSkuInfo.length>1&&(i=this.goodSkuInfo[1].list.length),i&&1!==i?t%i==0?{rowspan:i,colspan:1}:{rowspan:0,colspan:0}:{rowspan:1,colspan:1}}},$_addFormat:function(e){this.goodSkuInfo=e;for(var t=e[0].list,o=e[1].list,i=[],a=0;a<t.length;a++){var s={sku_type_arr:[t[a]],sku_code:"",price_total:"",price_cost:"",price:"",price_sale:"",price_plate:"",ico_small:""};if(o.length)for(var n=0;n<o.length;n++)i.push(r()({},s,{sku_type_arr:[t[a],o[n]]}));else i.push(s)}var l=[];e.forEach(function(e){e.name&&l.push(e.name)}),this.createdData.sku_type_arr=l,this.createdData.good_sku=i}}},$={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form",{ref:"createdData",staticClass:"form-width-small",attrs:{model:e.createdData,rules:e.rules,"label-width":"120px"}},[0===e.currentActive?[o("el-form-item",{attrs:{label:"名称：",prop:"good_name"}},[o("el-input",{attrs:{placeholder:"名称为2-30个字"},model:{value:e.createdData.good_name,callback:function(t){e.$set(e.createdData,"good_name",t)},expression:"createdData.good_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.type+"卖点：",prop:"good_explain"}},[o("el-input",{attrs:{type:"textarea",placeholder:"长度为2-50个字","suffix-icon":"el-icon-arrow-right"},model:{value:e.createdData.good_explain,callback:function(t){e.$set(e.createdData,"good_explain",t)},expression:"createdData.good_explain"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"行业分类：",prop:"category_id"}},[o("el-radio-group",{model:{value:e.createdData.category_id,callback:function(t){e.$set(e.createdData,"category_id",t)},expression:"createdData.category_id"}},e._l(e.industryForm,function(t){return o("el-radio",{key:t.category_id,attrs:{label:t.category_id}},[e._v(e._s(t.category_name))])}))],1),e._v(" "),o("el-form-item",{attrs:{label:"快买栏目："}},[o("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.quickChange},model:{value:e.quickList,callback:function(t){e.quickList=t},expression:"quickList"}},e._l(e.quickBuyColumnList,function(e){return o("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),o("span",{staticClass:"input__tabs"},[e._v("可设置多个标签")])],1),e._v(" "),o("el-form-item",{attrs:{label:"快买分类："}},[o("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.sortChange},model:{value:e.sortList,callback:function(t){e.sortList=t},expression:"sortList"}},e._l(e.quickBuysortList,function(e){return o("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),o("span",{staticClass:"input__tabs"},[e._v("可设置多个标签")])],1),e._v(" "),o("el-form-item",{attrs:{label:"详情页标签："}},[o("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.detailChange},model:{value:e.detailList,callback:function(t){e.detailList=t},expression:"detailList"}},e._l(e.detailInfoList,function(e){return o("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),o("span",{staticClass:"input__tabs"},[e._v("可设置多个标签")])],1),e._v(" "),o("el-form-item",{attrs:{label:"列表标签："}},[o("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.listChange},model:{value:e.listList,callback:function(t){e.listList=t},expression:"listList"}},e._l(e.listInfoList,function(e){return o("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),o("span",{staticClass:"input__tabs"},[e._v("可设置多个标签")])],1),e._v(" "),o("el-form-item",{attrs:{label:"愿望组："}},[o("el-select",{attrs:{multiple:"",placeholder:"请选择"},on:{change:e.wishChange},model:{value:e.wishList,callback:function(t){e.wishList=t},expression:"wishList"}},e._l(e.wishInfoList,function(e){return o("el-option",{key:e.tag_id,attrs:{label:e.tag_name,value:e.tag_id}})})),e._v(" "),o("span",{staticClass:"input__tabs"},[e._v("可设置多个标签")])],1),e._v(" "),o("el-form-item",{attrs:{label:"单位：",prop:"unit"}},[o("el-input",{attrs:{placeholder:"请填写单位"},model:{value:e.createdData.unit,callback:function(t){e.$set(e.createdData,"unit",t)},expression:"createdData.unit"}})],1),e._v(" "),e.goodType===e.GOODTYPE.goodList?o("el-form-item",{attrs:{label:"产地：",prop:"country"}},[o("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.createdData.country,callback:function(t){e.$set(e.createdData,"country",t)},expression:"createdData.country"}},e._l(e.COUNTRY,function(e){return o("el-option",{key:e+"country",attrs:{label:e,value:e}})}))],1):e._e(),e._v(" "),e.goodType!==e.GOODTYPE.serviceList?o("el-form-item",{attrs:{label:"规格",props:"format"}},[o("el-radio-group",{on:{change:this.$_showFormat},model:{value:e.singleButton,callback:function(t){e.singleButton=t},expression:"singleButton"}},[o("el-radio-button",{attrs:{label:"无规格"}}),o("el-radio-button",{attrs:{label:"添加规格"}})],1)],1):e._e(),e._v(" "),"无规格"===e.singleButton&&e.createdData.good_sku&&e.createdData.good_sku.length?[o("el-form",{ref:"createdData_goodSku",attrs:{model:e.createdData.good_sku[0],rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:e.type+"编码：",prop:"sku_code"}},[o("el-input",{attrs:{placeholder:"支持14以内的数字+英文组合"},model:{value:e.createdData.good_sku[0].sku_code,callback:function(t){e.$set(e.createdData.good_sku[0],"sku_code",t)},expression:"createdData.good_sku[0].sku_code"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"售价：",prop:"price_sale"}},[o("el-input",{attrs:{placeholder:"请输入售价"},model:{value:e.createdData.good_sku[0].price_sale,callback:function(t){e.$set(e.createdData.good_sku[0],"price_sale",t)},expression:"createdData.good_sku[0].price_sale"}}),e._v(" "),o("span",{staticClass:"outText"},[e._v("元")])],1),e._v(" "),o("el-form-item",{attrs:{label:"原价：",prop:"price"}},[o("el-input",{attrs:{placeholder:"请输入原价"},model:{value:e.createdData.good_sku[0].price,callback:function(t){e.$set(e.createdData.good_sku[0],"price",t)},expression:"createdData.good_sku[0].price"}}),e._v(" "),o("span",{staticClass:"outText"},[e._v("元")])],1),e._v(" "),o("el-form-item",{attrs:{label:"成本",prop:"price_cost"}},[o("el-input",{attrs:{placeholder:"请输入成本"},model:{value:e.createdData.good_sku[0].price_cost,callback:function(t){e.$set(e.createdData.good_sku[0],"price_cost",t)},expression:"createdData.good_sku[0].price_cost"}}),e._v(" "),o("span",{staticClass:"outText"},[e._v("元")])],1),e._v(" "),e.goodType===e.GOODTYPE.serviceList?o("el-form-item",{attrs:{label:"总价",prop:"price_total"}},[o("el-input",{attrs:{placeholder:"请输入总价"},model:{value:e.createdData.good_sku[0].price_total,callback:function(t){e.$set(e.createdData.good_sku[0],"price_total",t)},expression:"createdData.good_sku[0].price_total"}}),e._v(" "),o("span",{staticClass:"outText"},[e._v("元")])],1):e._e()],1)]:[o("div",{staticClass:"hahah"},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[e._v("名称:")]),e._v(" "),o("el-col",{attrs:{span:12}},[e._v("选项: ")])],1),e._v(" "),e._l(e.goodSkuInfo,function(t,i){return o("el-row",{key:""+t.name+i,staticClass:"goodSkuInfo_row",attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[t.name?o("el-button",{attrs:{plain:""}},[e._v(e._s(t.name))]):e._e()],1),e._v(" "),o("el-col",{attrs:{span:12}},e._l(t.list,function(t){return o("el-button",{key:t+"tag",attrs:{plain:""}},[e._v(e._s(t))])})),e._v(" "),o("el-col",{attrs:{span:2}},[i===e.createdData.sku_type_arr.length-1?o("el-button",{on:{click:function(t){e.showFormat()}}},[e._v("\n                                编辑\n                            ")]):e._e()],1)],1)}),e._v(" "),o("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.createdData.good_sku,border:"","span-method":e.$_SpanMethod}},[e.createdData.sku_type_arr[0]?o("el-table-column",{attrs:{label:e.createdData.sku_type_arr[0],prop:"sku_type_arr[0]"}}):e._e(),e._v(" "),e.createdData.sku_type_arr.length>1?o("el-table-column",{attrs:{label:e.createdData.sku_type_arr[1],prop:"sku_type_arr[1]"}}):e._e(),e._v(" "),o("el-table-column",{attrs:{label:"售价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"10000"},model:{value:t.row.price_sale,callback:function(o){e.$set(t.row,"price_sale",o)},expression:"scope.row.price_sale"}}),e._v(" "),o("span",{staticClass:"outText1"},[e._v("元")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"原价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"10000"},model:{value:t.row.price,callback:function(o){e.$set(t.row,"price",o)},expression:"scope.row.price"}}),o("span",{staticClass:"outText1"},[e._v(" 元")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"成本"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"10000"},model:{value:t.row.price_cost,callback:function(o){e.$set(t.row,"price_cost",o)},expression:"scope.row.price_cost"}}),e._v(" "),o("span",{staticClass:"outText1"},[e._v("元")])]}}])}),e._v(" "),e.goodType===e.GOODTYPE.serviceList?o("el-table-column",{attrs:{label:"总价"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"10000"},model:{value:t.row.price_total,callback:function(o){e.$set(t.row,"price_total",o)},expression:"scope.row.price_total"}}),o("span",{staticClass:"outText1"},[e._v(" 元")])]}}])}):e._e(),e._v(" "),o("el-table-column",{attrs:{label:"编码"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-input",{attrs:{placeholder:"10000"},model:{value:t.row.sku_code,callback:function(o){e.$set(t.row,"sku_code",o)},expression:"scope.row.sku_code"}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"图片",prop:"ico_small"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-upload",{key:e.img_url__key,staticClass:"table_upload",class:{table_upload__disabled:t.row.ico_small__url},attrs:{action:"/api/admin/fileupload/image","on-preview":e.$_onPreview,"on-change":function(o,i){return e.$_change(o,i,t.row)},"on-remove":function(o,i){return e.$_change(o,i,t.row)},"on-error":e.$_error,"before-upload":e.$_beforeUpload_img,"on-exceed":function(t,o){return e.$_exceed(t,o,1)}}},[t.row.ico_small__url?o("img",{staticClass:"avatar",attrs:{src:t.row.ico_small__url}}):o("span",{staticClass:"table_icon_text"},[o("i",{staticClass:"el-icon-plus"}),e._v("添加"+e._s(e.type)+"图片")])])]}}])})],1)],2)],e._v(" "),e.goodType!==e.GOODTYPE.fictitiousList?o("el-form-item",{attrs:{label:e.type+"海报图：",prop:"poster_img"}},[o("div",{staticClass:"upload-title"},[o("p",[e._v("支持上传1张图片，图片宽高比为1020*1500，支持JPG、PNG等格式图片，单张图片大小不超过5M")])]),e._v(" "),o("el-upload",{class:{canAdd:!e.poster_img.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"poster_img",1)},"on-remove":function(t,o){return e.$_change(t,o,"poster_img",1)},"on-error":e.$_error,"before-upload":e.$_beforeUpload_img,"on-exceed":function(t,o){return e.$_exceed(t,o,1)},"file-list":e.poster_img.url,limit:1}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加图片")]),o("span",[e._v("只能上传一张")])])])],1):e._e(),e._v(" "),o("el-form-item",{attrs:{label:e.type+"图片：",prop:"good_img_arr"}},[o("div",{staticClass:"upload-title"},[e._v("\n                    支持上传1-6张图片，你可以拖拽图片调整图片的现实顺序，图片宽高比为1125*1125，支持JPG、PNG等格式图片，单张图片大小不超过5M\n                ")]),e._v(" "),o("el-upload",{class:{canAdd:0===e.good_img_arr.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"good_img_arr")},"on-remove":function(t,o){return e.$_change(t,o,"good_img_arr")},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,e.good_img_arr.limit)},"before-upload":e.$_beforeUpload_img,"file-list":e.good_img_arr.url,limit:e.good_img_arr.limit,multiple:!0}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加图片")]),o("span",[e._v("还可以添加"+e._s(e.good_img_arr.over)+"张")])])])],1),e._v(" "),o("el-form-item",{attrs:{label:""}},[o("div",{staticClass:"upload-title"},[e._v("\n                    视频支持上传1个视频，高宽1:1，最好是大于等于800*800，大小不超过20M，支持MP4格式视频格式"),o("br"),e._v("\n                    封面图支持上传1张图片，图片宽高比为1125*1125，支持JPG、PNG等格式图片，单张图片大小不超过5M\n                ")])]),e._v(" "),o("el-form-item",{staticClass:"good_video",attrs:{label:"",prop:"good_video"}},[o("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/admin/fileupload/image","show-file-list":!1,"on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"good_video",1)},"on-remove":function(t,o){return e.$_change(t,o,"good_video",1)},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,e.good_img_arr.limit)},"before-upload":e.$_beforeUpload_viedo}},[e.good_video?o("ul",{staticClass:"el-upload-list el-upload-list--picture-card el-upload--picture-card"},[o("li",{staticClass:"el-upload-list__item is-success",attrs:{tabindex:"0"}},[o("video",{staticClass:"avatar",attrs:{src:e.good_video,controls:"controls",height:"100%"}},[e._v("您的浏览器不支持视频播放")]),e._v(" "),o("a",{staticClass:"el-upload-list__item-name"},[o("i",{staticClass:"el-icon-document"}),e._v('\n                                "Wiedergeburt 2019-01-01 03.09.22.mp4"\n                            ')]),e._v(" "),o("label",{staticClass:"el-upload-list__item-status-label",on:{click:function(t){return t.stopPropagation(),e.$_closeVideo(t)}}},[o("i",{staticClass:"el-icon-close"})])])]):o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加视频")])])])],1),e._v(" "),o("el-form-item",{staticClass:"good_video",attrs:{label:"",prop:"good_ico"}},[o("el-upload",{class:{canAdd:0===e.good_video_pic.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"good_video_pic",1)},"on-remove":function(t,o){return e.$_change(t,o,"good_video_pic",1)},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,e.good_img_arr.limit)},"before-upload":e.$_beforeUpload_img,"file-list":e.good_video_pic.url,limit:1}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加视频首图")])])])],1),e._v(" "),o("p",{staticClass:"clearfix"}),e._v(" "),o("el-form-item",{attrs:{label:e.type+"展示图：",prop:"good_ico"}},[o("div",{staticClass:"upload-title"},[o("p",[e._v("支持上传1张图片，图片宽高比为400*400，支持JPG、PNG等格式图片，单张图片大小不超过5M")])]),e._v(" "),o("el-upload",{class:{canAdd:0===e.good_ico.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-change":function(t,o){return e.$_change(t,o,"good_ico",1)},"on-remove":function(t,o){return e.$_change(t,o,"good_ico",1)},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,1)},"before-upload":e.$_beforeUpload_img,"file-list":e.good_ico.url,limit:1}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加图片")]),o("span",[e._v("只能上传一张")])])])],1),e._v(" "),o("el-form-item",{attrs:{label:e.type+"卖点图：",prop:"explain_img_arr"}},[o("div",{staticClass:"upload-title"},[e._v("\n                    支持上传2-4张图片，图片宽高比为450*540，支持JPG、PNG等格式图片，单张图片大小不超过5M\n                ")]),e._v(" "),o("el-upload",{class:{canAdd:0===e.explain_img_arr.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"explain_img_arr")},"on-remove":function(t,o){return e.$_change(t,o,"explain_img_arr")},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,e.good_img_arr.limit)},"before-upload":e.$_beforeUpload_img,"file-list":e.explain_img_arr.url,limit:e.explain_img_arr.limit,multiple:!0}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加图片")]),o("span",[e._v("还可以添加"+e._s(e.explain_img_arr.over)+"张")])])])],1)]:e._e(),e._v(" "),e.goodType===e.GOODTYPE.serviceList&&1===e.currentActive?[o("el-form-item",{staticClass:"goodFriend_header"},[o("el-button",{attrs:{type:"primary",plain:""},on:{click:e.$_showgoodFriend}},[e._v("选择耗材")])],1),e._v(" "),o("div",{staticClass:"hahah"},[e.createdData.good_friends.length?o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.createdData.good_friends}},[o("el-table-column",{attrs:{label:"耗材",width:"284"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("product-card",{attrs:{goodName:e.row.good_name,price:e.row.price_low}})]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"规格"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-checkbox-group",{model:{value:t.row.sku_id,callback:function(o){e.$set(t.row,"sku_id",o)},expression:"scope.row.sku_id"}},e._l(t.row.sku_list_modify,function(i){return o("el-checkbox",{key:""+i.sku_str+t.row.good_id,attrs:{label:i.sku_id,border:""}},[e._v(e._s(i.sku_str)+e._s(i.sku_id))])}))]}}])})],1):e._e()],1)]:e._e(),e._v(" "),e.goodType!==e.GOODTYPE.serviceList&&1===e.currentActive||2===e.currentActive?[o("el-form-item",{attrs:{label:e.type+"展示图：",prop:"show_img_arr"}},[o("div",{staticClass:"upload-title"},[e._v("\n                    展示"+e._s(e.type)+"的图片详情中的图片，至少上传1张，拖拽图片调整图片顺序，双击可预览大图，图片1242*1242px，单张图片不要超过5M，支持JPG、PNG等常见图片格式。\n                ")]),e._v(" "),o("el-upload",{class:{canAdd:0===e.show_img_arr.over},attrs:{action:"/api/admin/fileupload/image","list-type":"picture-card","on-preview":e.$_onPreview,"on-change":function(t,o){return e.$_change(t,o,"show_img_arr")},"on-remove":function(t,o){return e.$_change(t,o,"show_img_arr")},"on-error":e.$_error,"on-exceed":function(t,o){return e.$_exceed(t,o,e.good_img_arr.limit)},"before-upload":e.$_beforeUpload_img,"file-list":e.show_img_arr.url,limit:e.show_img_arr.limit,multiple:!0}},[o("i",{staticClass:"el-icon-plus upload-placeholder"},[o("p",[e._v("添加图片")]),o("span",[e._v("还可以添加"+e._s(e.show_img_arr.over)+"张")])])])],1),e._v(" "),o("el-form-item",{attrs:{label:"购买须知：",prop:"good_notes"}},[o("el-input",{staticClass:"good_notes",attrs:{type:"textarea",placeholder:"请填写购买须知",rows:"3"},model:{value:e.createdData.good_notes,callback:function(t){e.$set(e.createdData,"good_notes",t)},expression:"createdData.good_notes"}})],1)]:e._e(),e._v(" "),o("el-form-item",{staticClass:"form-footer"},[0!==e.currentActive?o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.$_changeTab(-1)}}},[e._v("上一步")]):e._e(),e._v(" "),e.goodType===e.GOODTYPE.fictitiousList||e.goodType===e.GOODTYPE.serviceList&&2===e.currentActive||e.goodType!==e.GOODTYPE.serviceList&&1===e.currentActive?o("el-button",{on:{click:e.$_createProduct}},[e._v("上架")]):e._e(),e._v(" "),e.goodType===e.GOODTYPE.serviceList&&1===e.currentActive?o("el-button",{on:{click:function(t){e.$_changeTab(2)}}},[e._v("下一步")]):e._e(),e._v(" "),e.goodType!==e.GOODTYPE.fictitiousList&&0===e.currentActive?o("el-button",{on:{click:function(t){e.$_changeTab(1)}}},[e._v("下一步")]):e._e()],1)],2),e._v(" "),o("el-dialog",{attrs:{visible:e.imgVisible},on:{"update:visible":function(t){e.imgVisible=t}}},[o("img",{attrs:{width:"100%",src:e.imgUrl,alt:""}})]),e._v(" "),o("dialog-formate",{ref:"formate",attrs:{goodSkuinfo:e.goodSkuInfo},on:{addFormat:e.$_addFormat,changeSingleButton:e.$_changeSingleButton}}),e._v(" "),o("dialog-goodFriend",{ref:"goodFriend",attrs:{goodFriList:e.createdData.good_friends},on:{addFriend:e.$_addFriend}})],1)},staticRenderFns:[]};var w=o("VU/8")(y,$,!1,function(e){o("N71H")},null,null).exports,x={name:"tabletest",components:{BreadCrumb:n.a,FormlistItem:w},data:function(){return{breadcrumb:[],active:0,GOODTYPE:s.c}},computed:r()({},Object(a.c)("createdGoode",["formInfo"]),{good_type:function(){return Number(this.$route.query.good_type)},good_id:function(){return Number(this.$route.query.good_id)}}),created:function(){var e=this.good_type,t=this.good_id;this.breadcrumb=t?s.f[e]:s.e[e]},methods:{$_changeTab:function(e){this.active=e}}},L={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"page",attrs:{id:"createGood"}},[o("div",{staticClass:"page-header"},[o("div",{staticClass:"crumbs"},[o("bread-crumb",{attrs:{"bread-crumb":e.breadcrumb}})],1)]),e._v(" "),o("div",{staticClass:"page-content"},[o("el-steps",{attrs:{active:e.active,"finish-status":"success",simple:""}},[o("el-step",{attrs:{title:"编辑基本信息"}}),e._v(" "),e.good_type===e.GOODTYPE.serviceList?o("el-step",{attrs:{title:"添加耗材"}}):e._e(),e._v(" "),e.good_type!==e.GOODTYPE.fictitiousList?o("el-step",{attrs:{title:"编辑商品详情"}}):e._e()],1),e._v(" "),o("FormlistItem",{attrs:{goodType:e.good_type,goodId:e.good_id,active:e.active},on:{changeTab:e.$_changeTab}})],1)])},staticRenderFns:[]};var D=o("VU/8")(x,L,!1,function(e){o("3dMB")},null,null);t.default=D.exports},"9Bbf":function(e,t,o){"use strict";var i=o("kM2E");e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,o){"use strict";var i=o("evD5").f,r=o("Yobk"),a=o("xH/j"),s=o("+ZMJ"),n=o("2KxR"),l=o("NWt+"),c=o("vIB/"),d=o("EGZi"),u=o("bRrM"),_=o("+E39"),p=o("06OY").fastKey,g=o("LIJb"),f=_?"_s":"size",m=function(e,t){var o,i=p(t);if("F"!==i)return e._i[i];for(o=e._f;o;o=o.n)if(o.k==t)return o};e.exports={getConstructor:function(e,t,o,c){var d=e(function(e,i){n(e,d,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=i&&l(i,o,e[c],e)});return a(d.prototype,{clear:function(){for(var e=g(this,t),o=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete o[i.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var o=g(this,t),i=m(o,e);if(i){var r=i.n,a=i.p;delete o._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),o._f==i&&(o._f=r),o._l==i&&(o._l=a),o[f]--}return!!i},forEach:function(e){g(this,t);for(var o,i=s(e,arguments.length>1?arguments[1]:void 0,3);o=o?o.n:this._f;)for(i(o.v,o.k,this);o&&o.r;)o=o.p},has:function(e){return!!m(g(this,t),e)}}),_&&i(d.prototype,"size",{get:function(){return g(this,t)[f]}}),d},def:function(e,t,o){var i,r,a=m(e,t);return a?a.v=o:(e._l=a={i:r=p(t,!0),k:t,v:o,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[f]++,"F"!==r&&(e._i[r]=a)),e},getEntry:m,setStrong:function(e,t,o){c(e,t,function(e,o){this._t=g(e,t),this._k=o,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},o?"entries":"values",!o,!0),u(t)}}},ALrJ:function(e,t,o){var i=o("+ZMJ"),r=o("MU5D"),a=o("sB3e"),s=o("QRG4"),n=o("oeOm");e.exports=function(e,t){var o=1==e,l=2==e,c=3==e,d=4==e,u=6==e,_=5==e||u,p=t||n;return function(t,n,g){for(var f,m,v=a(t),h=r(v),k=i(n,g,3),b=s(h.length),y=0,$=o?p(t,b):l?p(t,0):void 0;b>y;y++)if((_||y in h)&&(m=k(f=h[y],y,v),e))if(o)$[y]=m;else if(m)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:$.push(f)}else if(d)return!1;return u?-1:c||d?d:$}}},BDhv:function(e,t,o){var i=o("kM2E");i(i.P+i.R,"Set",{toJSON:o("m9gC")("Set")})},BxLB:function(e,t){},HpRW:function(e,t,o){"use strict";var i=o("kM2E"),r=o("lOnJ"),a=o("+ZMJ"),s=o("NWt+");e.exports=function(e){i(i.S,e,{from:function(e){var t,o,i,n,l=arguments[1];return r(this),(t=void 0!==l)&&r(l),void 0==e?new this:(o=[],t?(i=0,n=a(l,arguments[2],2),s(e,!1,function(e){o.push(n(e,i++))})):s(e,!1,o.push,o),new this(o))}})}},LIJb:function(e,t,o){var i=o("EqjI");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},N71H:function(e,t){},chPc:function(e,t,o){e.exports=o.p+"static/img/2.50e4091.png"},"f3/d":function(e,t,o){"use strict";var i={name:"product-card",data:function(){return{currentDate:new Date}},props:{goodName:{type:String,default:""},price:{type:Number,default:0},closeble:{type:Boolean,default:!1}},methods:{$_deleteTag:function(){this.$emit("deleteTag")},$_click:function(){this.$emit("click")}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"product_card"},on:{click:e.$_click}},[i("div",{staticClass:"el-card__body"},[i("img",{staticClass:"image",attrs:{src:o("chPc")}}),e._v(" "),i("div",{staticClass:"right"},[i("p",{staticClass:"right_title"},[e._v(e._s(e.goodName))]),e._v(" "),i("span",[e._v("¥"+e._s((e.price/100).toFixed(2)))])]),e._v(" "),e.closeble?i("i",{staticClass:"el-icon-error product_card_icon",on:{click:e.$_deleteTag}}):e._e()])])},staticRenderFns:[]};var a=o("VU/8")(i,r,!1,function(e){o("2Pjj")},null,null);t.a=a.exports},ioQ5:function(e,t,o){o("HpRW")("Set")},lHA8:function(e,t,o){e.exports={default:o("pPW7"),__esModule:!0}},m9gC:function(e,t,o){var i=o("RY/4"),r=o("4WTo");e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},oNmr:function(e,t,o){o("9Bbf")("Set")},oeOm:function(e,t,o){var i=o("7Doy");e.exports=function(e,t){return new(i(e))(t)}},pPW7:function(e,t,o){o("M6a0"),o("zQR9"),o("+tPU"),o("ttyz"),o("BDhv"),o("oNmr"),o("ioQ5"),e.exports=o("FeBl").Set},qo66:function(e,t,o){"use strict";var i=o("7KvD"),r=o("kM2E"),a=o("06OY"),s=o("S82l"),n=o("hJx8"),l=o("xH/j"),c=o("NWt+"),d=o("2KxR"),u=o("EqjI"),_=o("e6n0"),p=o("evD5").f,g=o("ALrJ")(0),f=o("+E39");e.exports=function(e,t,o,m,v,h){var k=i[e],b=k,y=v?"set":"add",$=b&&b.prototype,w={};return f&&"function"==typeof b&&(h||$.forEach&&!s(function(){(new b).entries().next()}))?(b=t(function(t,o){d(t,b,e,"_c"),t._c=new k,void 0!=o&&c(o,v,t[y],t)}),g("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in $&&(!h||"clear"!=e)&&n(b.prototype,e,function(o,i){if(d(this,b,e),!t&&h&&!u(o))return"get"==e&&void 0;var r=this._c[e](0===o?0:o,i);return t?this:r})}),h||p(b.prototype,"size",{get:function(){return this._c.size}})):(b=m.getConstructor(t,e,v,y),l(b.prototype,o),a.NEED=!0),_(b,e),w[e]=b,r(r.G+r.W+r.F,w),h||m.setStrong(b,e,v),b}},qqwB:function(e,t,o){"use strict";var i=o("Dd8w"),r=o.n(i),a=o("NYxO"),s=o("UyYF"),n={name:"dialog-goodFriend",components:{productCard:o("f3/d").a},props:{goodFriList:{type:Array,default:function(){return[]}}},data:function(){return{goodFriend_show:!1,CATEGORYOPTIONS:s.a,defaultActive:"美容",good_friends:[],goodFriendsList:[]}},computed:r()({},Object(a.c)("createdGoode",["formInfo","goodFriends"])),watch:{goodFriList:{handler:function(e,t){this.goodFriList.length&&(this.good_friends=_.cloneDeep(e))},deep:!0},goodFriend_show:{handler:function(e,t){e&&this.goodFriList.length&&(this.good_friends=_.cloneDeep(this.goodFriList))}}},methods:{isDisable:function(e){return this.good_friends.filter(function(t){return t.good_id===e}).length>0},$_addGoodFriend:function(e){if(console.log(e),!this.isDisable(e.good_id)){var t={good_id:e.good_id,sku_id:[],sku_list_modify:e.sku_list,good_name:e.good_name,good_ico:e.good_ico,price_low:e.price_low,price_high:e.price_high};this.good_friends.push(t)}},$_confirmAdd:function(){this.$emit("addFriend",_.cloneDeep(this.good_friends)),this.goodFriend_show=!1},$_deleteTag:function(e){this.good_friends.splice(e,1)},computedRightData:function(e,t){var o=this;this.defaultActive=t,this.goodFriends[e]?this.goodFriendsList=this.goodFriends[e]:this.$store.dispatch("createdGoode/fetchGoodFriends",{good_type:3,category_id:e}).then(function(e){o.goodFriendsList=e})}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"选择耗材",visible:e.goodFriend_show,size:"large"},on:{"update:visible":function(t){e.goodFriend_show=t}}},[o("div",[o("span",[e._v("已选：")]),e._v(" "),e._l(e.good_friends,function(t,i){return o("productCard",{key:t.good_name+"good_friends",attrs:{closeble:!0,goodName:t.good_name,price:t.price_low},on:{deleteTag:function(t){e.$_deleteTag(i)}}})}),e._v(" "),e.good_friends.length?e._e():o("span",[e._v("还没有选择任何耗材")])],2),e._v(" "),o("el-row",[o("el-col",{attrs:{span:3}},e._l(e.CATEGORYOPTIONS,function(t){return o("el-menu",{key:t.category_name+"category_name",staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.defaultActive},on:{select:function(o){e.computedRightData(t.category_id,t.category_name)}}},[o("el-menu-item",{attrs:{index:t.category_name}},[o("span",{attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(t.category_name)+" ")])])],1)})),e._v(" "),o("el-col",{attrs:{span:21}},e._l(e.goodFriendsList,function(t){return o("productCard",{key:t.good_name+"goodFriendsList",class:{productCard__disable:e.isDisable(t.good_id)},attrs:{goodName:t.good_name,price:t.price_low},on:{click:function(o){e.$_addGoodFriend(t)}}})}))],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.goodFriend_show=!1}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.$_confirmAdd}},[e._v("确 定")])],1)],1)},staticRenderFns:[]};var c=o("VU/8")(n,l,!1,function(e){o("rqqK")},null,null);t.a=c.exports},rqqK:function(e,t){},ttyz:function(e,t,o){"use strict";var i=o("9C8M"),r=o("LIJb");e.exports=o("qo66")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},zP3f:function(e,t,o){"use strict";var i=o("M4fF"),r=o.n(i),a={name:"dialog-formate",props:{goodSkuinfo:{type:Array,default:function(){return[]}}},data:function(){return{format_show:!1,inputVisible0:!1,inputVisible1:!1,goodSkuInfo:[{name:"",list:[],inputValue:""},{name:"",list:[],inputValue:""}]}},watch:{goodSkuinfo:{handler:function(e,t){this.goodSkuinfo.length&&(this.goodSkuInfo=r.a.cloneDeep(e))},deep:!0}},methods:{$_addFormat:function(){this.goodSkuInfo[0].list.length?(this.format_show=!1,this.$emit("addFormat",this.goodSkuInfo)):this.$message({message:"请填写规格",type:"warning"})},$_close:function(){this.goodSkuInfo[0].list.length||this.$emit("changeSingleButton")},$_closeFormat:function(){this.format_show=!1,this.$emit("closeFormat")},$_createFormat:function(e){var t=this;this["inputVisible"+e]=!0,this.$nextTick(function(o){t.$refs["saveTagInput"+e][0].$refs.input.focus()})},handleInputConfirm:function(e,t){var o="inputVisible"+e,i=this.goodSkuInfo[e].inputValue;i&&t.push(i),this.goodSkuInfo[e].inputValue="",this[o]=!1},$_deletedTag:function(e,t){e.splice(e.indexOf(t),1)}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"添加规格",visible:e.format_show,size:"large",id:"format_show"},on:{"update:visible":function(t){e.format_show=t},close:e.$_close}},[o("el-row",{attrs:{gutter:20}},[o("el-col",{attrs:{span:4}},[e._v(" ")]),e._v(" "),o("el-col",{attrs:{span:4}},[e._v("名称")]),e._v(" "),o("el-col",{attrs:{span:12}},[e._v("选项")])],1),e._v(" "),e._l(e.goodSkuInfo,function(t,i){return o("div",{key:"goodSkuInfo_"+i},[o("el-row",{attrs:{gutter:20}},0===i?[o("el-col",{attrs:{span:4}},[e._v("一组")]),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.name,callback:function(o){e.$set(t,"name",o)},expression:"item.name"}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{placeholder:"请输入选项",disabled:t.list&&t.list.length>1},model:{value:t.list[0],callback:function(o){e.$set(t.list,0,o)},expression:"item.list[0]"}}),e._v(" "),e._l(t.list,function(i,r){return 0!==r?o("el-tag",{key:r,attrs:{"disable-transitions":!1,closable:!0},on:{close:function(o){e.$_deletedTag(t.list,i)}}},[e._v("\n                  "+e._s(i)+"\n                ")]):e._e()}),e._v(" "),e.inputVisible0?o("el-input",{ref:"saveTagInput0",refInFor:!0,staticClass:"input-new-tag",style:{width:"100px"},attrs:{size:"small",placeholder:"请输入选项"},on:{blur:function(o){e.handleInputConfirm(i,t.list)}},nativeOn:{keyup:function(o){if(!("button"in o)&&e._k(o.keyCode,"enter",13,o.key,"Enter"))return null;e.handleInputConfirm(i,t.list)}},model:{value:t.inputValue,callback:function(o){e.$set(t,"inputValue",o)},expression:"item.inputValue"}}):o("i",{staticClass:"el-icon-plus",on:{click:function(t){e.$_createFormat(i)}}})],2)]:[o("el-col",{attrs:{span:4}},[e._v("二组")]),e._v(" "),o("el-col",{attrs:{span:4}},[o("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.name,callback:function(o){e.$set(t,"name",o)},expression:"item.name"}})],1),e._v(" "),o("el-col",{attrs:{span:12}},[o("el-input",{attrs:{placeholder:"请输入选项",disabled:t.list&&t.list.length>1},model:{value:t.list[0],callback:function(o){e.$set(t.list,0,o)},expression:"item.list[0]"}}),e._v(" "),e._l(t.list,function(i,r){return 0!==r?o("el-tag",{key:i,attrs:{"disable-transitions":!1,closable:!0},on:{close:function(o){e.$_deletedTag(t.list,i)}}},[e._v("\n                  "+e._s(i)+"\n                ")]):e._e()}),e._v(" "),e.inputVisible1?o("el-input",{ref:"saveTagInput1",refInFor:!0,staticClass:"input-new-tag",style:{width:"100px"},attrs:{size:"small",placeholder:"请输入选项"},on:{blur:function(o){e.handleInputConfirm(i,t.list)}},nativeOn:{keyup:function(o){if(!("button"in o)&&e._k(o.keyCode,"enter",13,o.key,"Enter"))return null;e.handleInputConfirm(i,t.list)}},model:{value:t.inputValue,callback:function(o){e.$set(t,"inputValue",o)},expression:"item.inputValue"}}):o("i",{staticClass:"el-icon-plus",on:{click:function(t){e.$_createFormat(i)}}})],2)],1)],1)}),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.$_closeFormat}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.$_addFormat}},[e._v("确 定")])],1)],2)},staticRenderFns:[]};var n=o("VU/8")(a,s,!1,function(e){o("BxLB")},null,null);t.a=n.exports}});